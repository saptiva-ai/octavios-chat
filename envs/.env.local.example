# ========================================
# LOCAL DEVELOPMENT ENVIRONMENT
# ========================================
# Copiar este archivo como .env.local para desarrollo

# ========================================
# BASIC CONFIGURATION
# ========================================
COMPOSE_PROJECT_NAME=octavios
DOMAIN=localhost

# ========================================
# FRONTEND CONFIGURATION
# ========================================
NEXT_PUBLIC_API_URL=http://localhost:8001
NODE_ENV=development
NEXT_PUBLIC_FEATURE_WEB_SEARCH=true
NEXT_PUBLIC_FEATURE_DEEP_RESEARCH=true
NEXT_PUBLIC_FEATURE_ADD_FILES=false
NEXT_PUBLIC_FEATURE_GOOGLE_DRIVE=false
NEXT_PUBLIC_FEATURE_CANVAS=false
NEXT_PUBLIC_FEATURE_AGENT_MODE=false
NEXT_PUBLIC_FEATURE_MIC=false
NEXT_PUBLIC_TOOL_FILES=true

# ========================================
# DATABASE CONFIGURATION
# ========================================
MONGODB_USER=octavios_user
MONGODB_PASSWORD=secure_password_change_me
MONGODB_DATABASE=octavios

REDIS_PASSWORD=redis_password_change_me

# ========================================
# AUTHENTICATION / SECURITY
# ========================================
JWT_SECRET_KEY=dev-jwt-secret-change-in-production
SECRET_KEY=dev-secret-change-in-production
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ========================================
# EMAIL / PASSWORD RESET
# ========================================
# SMTP Configuration for sending emails via Gmail
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=support@saptiva.com
# IMPORTANT: Use Gmail App Password, not your regular password
# Generate at: https://myaccount.google.com/apppasswords
SMTP_PASSWORD=your-gmail-app-password-here
SMTP_FROM_EMAIL=support@saptiva.com
# Base URL for password reset links (frontend URL)
PASSWORD_RESET_URL_BASE=http://localhost:3000

# ========================================
# EXTERNAL APIS
# ========================================
SAPTIVA_API_KEY=your-saptiva-api-key-here
SAPTIVA_BASE_URL=https://api.saptiva.com
SAPTIVA_TIMEOUT=30
SAPTIVA_MAX_RETRIES=3
NEXT_PUBLIC_SAPTIVA_API_KEY=

ALETHEIA_BASE_URL=http://localhost:8000
ALETHEIA_API_KEY=optional-if-required
ALETHEIA_TIMEOUT=120
ALETHEIA_MAX_RETRIES=3

# ========================================
# DEEP RESEARCH FEATURE FLAGS (P0-DR-KILL-001)
# ========================================
# GLOBAL KILL SWITCH: Dominates all other Deep Research flags
# When true, ALL Deep Research functionality returns HTTP 410 GONE
# This is the PRIMARY control - set to 'true' to completely disable Deep Research
DEEP_RESEARCH_KILL_SWITCH=true

# Legacy flags (kept for backward compatibility but overridden by kill switch)
# These only have effect when DEEP_RESEARCH_KILL_SWITCH=false
DEEP_RESEARCH_ENABLED=false
DEEP_RESEARCH_AUTO=false
DEEP_RESEARCH_COMPLEXITY_THRESHOLD=0.7

# ========================================
# CHAT CONFIGURATION (P0-CHAT-BASE-004)
# ========================================
# Default model for chat (uses Saptiva simple inference)
# Note: Saptiva model names use spaces, not underscores
CHAT_DEFAULT_MODEL=Saptiva Turbo

# Allowed models for chat (comma-separated)
# Available: Saptiva Turbo, Saptiva Cortex, Saptiva Ops, Saptiva Legacy, Saptiva Coder
CHAT_ALLOWED_MODELS=Saptiva Turbo,Saptiva Cortex,Saptiva Ops,Saptiva Coder

# Tool visibility flags
TOOL_FILES_ENABLED=true
TOOL_ADD_FILES_ENABLED=true
TOOL_DOCUMENT_REVIEW_ENABLED=true
TOOL_BANK_ADVISOR_ENABLED=true

# ========================================
# DEVELOPMENT SETTINGS
# ========================================
DEBUG=true
LOG_LEVEL=debug
RATE_LIMIT_REQUESTS_PER_MINUTE=1000

# ========================================
# FILE UPLOAD LIMITS
# ========================================
# Backend: Max file size in bytes (50MB matches production)
MAX_FILE_SIZE=52428800
# Frontend: Max file size in MB (should match backend: 50MB = 52428800 bytes)
NEXT_PUBLIC_MAX_FILE_SIZE_MB=50

# ========================================
# CORS & HOSTS
# ========================================
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]
ALLOWED_HOSTS=["localhost","127.0.0.1","web","api","testserver"]

# ========================================
# OBSERVABILITY
# ========================================
OTEL_SERVICE_NAME=octavios-bridge-local
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ========================================
# AUDITOR (MCP Plugin)
# ========================================
# Set USE_MCP_AUDITOR=true to use the MCP plugin instead of local code
# When false, the API uses the local validation_coordinator.py implementation
USE_MCP_AUDITOR=false
AUDITOR_URL=http://file-auditor:8002
AUDITOR_PORT=8002
AUDITOR_TIMEOUT=120
