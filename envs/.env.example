# ============================================================================
# DEVELOPMENT ENVIRONMENT CONFIGURATION - EXAMPLE
# ============================================================================
# This file is safe to commit to git (contains NO real credentials)
# Copy this file to create your local development environment:
#   cp envs/.env.example envs/.env
# Then replace placeholder values with your actual development credentials
# ============================================================================

# ========================================
# PRODUCTION SERVER CONFIGURATION
# ========================================
# Used for deployment scripts
PROD_SERVER_IP=YOUR_SERVER_IP
PROD_SERVER_USER=YOUR_SSH_USER
PROD_SERVER_HOST=${PROD_SERVER_USER}@${PROD_SERVER_IP}
PROD_DEPLOY_PATH=/home/user/octavios-chat-bajaware_invex
PROD_DOMAIN=your-domain.com

# ========================================
# BASIC CONFIGURATION
# ========================================
COMPOSE_PROJECT_NAME=octavios-chat-bajaware_invex
DOMAIN=localhost
ENVIRONMENT=development
NODE_ENV=development

# ========================================
# FRONTEND CONFIGURATION
# ========================================
# Backend URL for frontend
# - For local dev: Leave empty or use relative path to enable Next.js proxy
# - For production: Use full URL https://your-backend-domain.com
NEXT_PUBLIC_API_URL=
# Internal backend URL (used by Next.js proxy)
API_BASE_URL=http://backend:8000
BACKEND_API_URL=http://backend:8000

# Feature flags (enable/disable features)
NEXT_PUBLIC_FEATURE_WEB_SEARCH=false
NEXT_PUBLIC_FEATURE_DEEP_RESEARCH=false
NEXT_PUBLIC_FEATURE_ADD_FILES=false
NEXT_PUBLIC_FEATURE_GOOGLE_DRIVE=false
NEXT_PUBLIC_FEATURE_CANVAS=false
NEXT_PUBLIC_FEATURE_AGENT_MODE=false
NEXT_PUBLIC_FEATURE_MIC=false
NEXT_PUBLIC_TOOL_FILES=true

# ========================================
# DATABASE CONFIGURATION
# ========================================
MONGODB_USER=octavios_user
MONGODB_PASSWORD=dev_password_change_me
MONGODB_DATABASE=octavios
MONGODB_URL=mongodb://${MONGODB_USER}:${MONGODB_PASSWORD}@mongodb:27017/${MONGODB_DATABASE}?authSource=admin

REDIS_PASSWORD=dev_redis_password
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/1

# ========================================
# AUTHENTICATION / SECURITY
# ========================================
# Generate with: openssl rand -base64 32
JWT_SECRET_KEY=dev-jwt-secret-key-replace-me
SECRET_KEY=dev-secret-key-replace-me
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ALGORITHM=HS256

# Development security settings
SECURE_COOKIES=false
HTTPS_ONLY=false

# ========================================
# EXTERNAL APIS
# ========================================
# Get your API key from https://saptiva.ai/dashboard
SAPTIVA_API_KEY=your-saptiva-api-key-here
SAPTIVA_BASE_URL=https://api.saptiva.com
SAPTIVA_API_URL=https://api.saptiva.com
SAPTIVA_TIMEOUT=30
SAPTIVA_MAX_RETRIES=3
NEXT_PUBLIC_SAPTIVA_API_KEY=
NEXT_PUBLIC_SAPTIVA_BASE_URL=https://api.saptiva.com

# Aletheia Deep Research Service
# For Docker: http://aletheia:8000 (internal network)
# For local dev: http://localhost:8003
ALETHEIA_BASE_URL=http://aletheia:8000
ALETHEIA_API_KEY=optional-if-required
ALETHEIA_TIMEOUT=120
ALETHEIA_MAX_RETRIES=3

# Tavily API for web search (used by Aletheia)
TAVILY_API_KEY=your-tavily-api-key-here
WEB_SEARCH_ENABLED=true

# ========================================
# DEEP RESEARCH FEATURE FLAGS (P0-DR-KILL-001)
# ========================================
# Set KILL_SWITCH=false and ENABLED=true to activate Deep Research
# Requires valid TAVILY_API_KEY for web search functionality
DEEP_RESEARCH_KILL_SWITCH=false
DEEP_RESEARCH_ENABLED=true
DEEP_RESEARCH_AUTO=false
DEEP_RESEARCH_COMPLEXITY_THRESHOLD=0.7

# ========================================
# CHAT CONFIGURATION (P0-CHAT-BASE-004)
# ========================================
CHAT_DEFAULT_MODEL=Saptiva Turbo
CHAT_ALLOWED_MODELS=Saptiva Turbo,Saptiva Cortex,Saptiva Ops,Saptiva Coder

# Files tool flags
TOOL_FILES_ENABLED=true
TOOL_ADD_FILES_ENABLED=true
TOOL_DOCUMENT_REVIEW_ENABLED=true

# ========================================
# DEVELOPMENT SETTINGS
# ========================================
DEBUG=true
LOG_LEVEL=debug
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS_PER_MINUTE=1000

# ========================================
# FILE UPLOAD LIMITS
# ========================================
MAX_FILE_SIZE=52428800
NEXT_PUBLIC_MAX_FILE_SIZE_MB=50

# ========================================
# CORS & HOSTS
# ========================================
# Allow localhost for development
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000","http://localhost:8000"]
ALLOWED_HOSTS=["localhost","127.0.0.1","web","api","backend","testserver"]
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ========================================
# OBSERVABILITY
# ========================================
OTEL_SERVICE_NAME=octavios-bridge-dev
JAEGER_ENDPOINT=http://localhost:14268/api/traces
HOST=0.0.0.0
PORT=8001

# ========================================
# OBJECT STORAGE (MINIO)
# ========================================
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_ENDPOINT=minio:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_DEFAULT_PUBLIC_HOST=http://localhost:9000
MINIO_SECURE=false

# ========================================
# EMAIL / PASSWORD RESET CONFIGURATION
# ========================================
# For Gmail: Use App Password (not regular password)
# Generate at: https://myaccount.google.com/apppasswords
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-gmail-app-password
MAIL_FROM=your-email@gmail.com
MAIL_FROM_NAME="Octavios Support"
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-gmail-app-password
SMTP_FROM_EMAIL=your-email@gmail.com

# Password reset URL (development frontend)
PASSWORD_RESET_URL_BASE=http://localhost:3000

# ========================================
# FILES TOOL V1 CONFIGURATION
# ========================================
FILES_ROOT=/tmp/copilotos_documents
FILES_TTL_DAYS=1
FILES_QUOTA_MB_PER_USER=500
DOCUMENTS_REAPER_INTERVAL_SECONDS=1800
DOCUMENTS_MAX_DISK_USAGE_PERCENT=85
FILE_MANAGER_URL=http://file-manager:8001
ATTACHMENTS_V2=false

# ========================================
# BACKGROUND TASKS
# ========================================
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/1
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@redis:6379/2

# ========================================
# TEXT EXTRACTION CONFIGURATION
# ========================================
EXTRACTOR_PROVIDER=third_party

# ========================================
# POSTGRES (BANK ADVISOR)
# ========================================
POSTGRES_USER=octavios
POSTGRES_PASSWORD=dev_postgres_password
POSTGRES_DB=bankadvisor
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# ========================================
# QDRANT (VECTOR DATABASE)
# ========================================
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_COLLECTION_NAME=rag_documents
QDRANT_EMBEDDING_DIM=384
QDRANT_LOG_LEVEL=INFO

# ========================================
# RAG CONFIGURATION
# ========================================
RAG_SESSION_TTL_HOURS=24
RAG_CLEANUP_INTERVAL_HOURS=1

# Bank Advisor tool flag
TOOL_BANK_ADVISOR_ENABLED=false

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================
# 1. Copy this file: cp envs/.env.example envs/.env
# 2. Replace placeholder values with your actual credentials:
#    - SAPTIVA_API_KEY: Get from https://saptiva.ai/dashboard
#    - MONGODB_PASSWORD: Use a secure password
#    - REDIS_PASSWORD: Use a secure password
#    - JWT_SECRET_KEY: Generate with: openssl rand -base64 32
#    - MAIL_USERNAME/MAIL_PASSWORD: Your Gmail + App Password
# 3. Start the services: make dev.up
# ============================================================================
